.TH "cleo-autoblock" "1" "5.x" "Sergey Zhumatiy" "Cleo Commands"
.SH "NAME"
.LP 
cleo\-autoblock \- tells Cleo server to block specified users tasks automatically.
.SH "SYNTAX"
.LP 
\fBcleo\-autoblock\fR [\fIOPTIONS\fP]
.SH "DESCRIPTION"
.LP 
\fBcleo\-autoblock\fR controls Cleo ability to block tasks of several users automatically. There are abilites to:
.TP 
\- block all new tasks, except tasks of users specified at next point
.TP 
\- no block new tasks of specified users (autononblock)
.TP 
\- block new tasks of specified users
.LP 
All these abilities can be combined..br 
You must specify \fB\-b\fR or \fB\-n\fR option.
.SH "OPTIONS"
.LP 
.TP 
\fB\-h\fR
Print help information and exit.

.TP 
\fB\-q <queue>\fR
Use queue named \fIqueue\fR.

.TP 
\fB\-b [0|1]\fR
Set autoblock (if no arg or '1' specified), or reset autoblock (if '0' specified).

.TP 
\fB\-n [0|1]\fR
Set autononblock (if no arg or '1' specified), or reset autoblock (if '0' specified).

.TP 
\fB\-U <userlist>\fR
Specify list of users via comma to block or not block automatically. If not specified, all users affected. No spaces allowed.

.TP 
\fB\-R <reason>\fR
Specify \fIreason\fR as descrition of autoblock. You can set several autoblocks with different reasons. To reset autoblock you must specify the same reason.

.TP 
\fB\-a <user>\fR
Set or reset autoblock as you are user \fIuser\fR.

.TP 
\fB\-r\fR
Be recursive.

.TP 
\fB\-p <port>\fR
Use port \fIport\fR to connect to Cleo server.

.SH "ENVIRONMENT VARIABLES"
.LP 
.TP 
\fBCLEO_PORT\fP
Specifies the port to connect to Cleo server.

.TP 
\fBCLEO_QUEUE\fP
Specifies the queue to use.
.SH "ERROR CODES"
.LP 
Returned error codes:
.TP 
0 \- OK
.TP 
1 \- Invalid arguments (or help requested)
.TP 
2 \- No action is specified
.TP 
3 \- Server communication error
.TP 
4 \- Bad arguments
.TP 
5 \- Command fails
.TP 
10 \- Not possible to start client application
.TP 
20 \- Internal error detected
.SH "EXAMPLES"
.LP 
Auto block all users except user vip1 in queue main:
.IP 
\fBcleo\-autoblock \-U vip1 \-q main \-n 1\fR
\fBcleo\-autoblock \-q main \-b 1\fR

.LP 
Cancel previous autoblocks:
.IP 
\fBcleo\-autoblock \-U vip1 \-q main \-n 0\fR
\fBcleo\-autoblock \-q main \-b 0\fR

.LP 
Auto block user notvip in queue main with reason 'Blocked till monday':
.IP 
\fBcleo\-autoblock \-U notvip \-q main \-b 1 \-R 'Blocked till monday'\fR
.LP 

.LP 
Cancel previous autoblock:
.IP 
\fBcleo\-autoblock \-U notvip \-q main \-b 0 \-R 'Blocked till monday'\fR
.LP 
.SH "AUTHORS"
.LP 
Sergey Zhumatiy <serg@parallel.ru>
.SH "SEE ALSO"
.LP 
cleo\-client(1), tasks(1), cleo\-priority(1), mpirun(1), cleo\-blockcpu(1), cleo\-blocktask(1), cleo\-mode(1), cleo\-stat(1)
